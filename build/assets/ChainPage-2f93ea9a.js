import{j as e,m,n as I,M,o as N,p as T,q as k,s as H,r as g,C as j,b as p,D as P,e as q}from"./index-66dd5fa2.js";import{S as O,N as V}from"./NumberInput-4a855056.js";import{S as R,u as U,a as d}from"./L1ControlledNumber-4bce0d8c.js";import{L as F,m as z,M as W}from"./MeasurementInput-89968d28.js";import{M as v}from"./MeasurementOutput-93ceb668.js";import{N as X}from"./NumberOutput-83af5abe.js";import"./io-df8bba7d.js";function $(r){return e.jsx(F,{...z(r),choices:m.getAllChoices(),makeString:t=>t.identifier,fromString:t=>m.fromDict({name:t})})}class h extends I{constructor(t,a,i){super("Sprocket"),this.teeth=t,this.pitch=a,this.pitchDiameter=t==0?new M(0,"in"):a.div(Math.sin(Math.PI/t)),this.bore=i?.bore,this.wrong=i?.wrong,this.vendors=i?.vendors}pitchDiameter;bore;wrong;vendors;toDict(){return{teeth:this.teeth,pitch:this.pitch.toDict()}}static fromDict(t){return new h(t.teeth,M.fromDict(t.pitch))}eq(t){return t instanceof h&&N.isEqual(this.toDict(),t.toDict())}}const G=[{bore:"NEO/CIM (8mm)",chain:"#25",teeth:10,vendors:["REV"],wrong:!1},{bore:'3/8" Hex',chain:"#25",teeth:16,vendors:["VEXpro","WCP","AndyMark"],wrong:!0},{bore:'3/8" Hex',chain:"#25",teeth:18,vendors:["VEXpro","WCP"],wrong:!0},{bore:'3/8" Hex',chain:"#25",teeth:22,vendors:["VEXpro","WCP"],wrong:!0},{bore:'3/8" Hex',chain:"#25",teeth:24,vendors:["AndyMark"],wrong:!1},{bore:'1/2" Hex',chain:"#25",teeth:16,vendors:["VEXpro","WCP","AndyMark"],wrong:!0},{bore:'1/2" Hex',chain:"#25",teeth:17,vendors:["AndyMark"],wrong:!1},{bore:'1/2" Hex',chain:"#25",teeth:18,vendors:["VEXpro","WCP","AndyMark"],wrong:!0},{bore:'1/2" Hex',chain:"#25",teeth:22,vendors:["VEXpro","WCP","AndyMark"],wrong:!0},{bore:'1/2" Hex',chain:"#25",teeth:24,vendors:["AndyMark"],wrong:!1},{bore:'1/2" ID',chain:"#25",teeth:16,vendors:["VEXpro","WCP","AndyMark"],wrong:!0},{bore:'1/2" ID',chain:"#25",teeth:18,vendors:["AndyMark"],wrong:!1},{bore:'1/2" ID',chain:"#25",teeth:22,vendors:["VEXpro","WCP","AndyMark"],wrong:!0},{bore:'1/2" ID',chain:"#25",teeth:24,vendors:["AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:32,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:34,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:36,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:38,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:40,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:42,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:44,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:48,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:54,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:58,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:60,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:64,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:66,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#25",teeth:72,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1/2" Hex',chain:"#35",teeth:12,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1/2" Hex',chain:"#35",teeth:15,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1/2" ID',chain:"#35",teeth:12,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1/2" ID',chain:"#35",teeth:15,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:22,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:24,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:26,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:28,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:30,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:32,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:33,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:36,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:42,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:44,vendors:["VEXpro","WCP"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:48,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:54,vendors:["VEXpro","WCP","AndyMark"],wrong:!1},{bore:'1-1/8" Bearing Bore',chain:"#35",teeth:60,vendors:["VEXpro","WCP","AndyMark"],wrong:!1}];function y(r){const t=r.currentSprockets.map(n=>n.teeth),a=G.map(n=>new h(n.teeth,T[n.chain],{bore:n.bore,vendors:n.vendors,wrong:n.wrong})).filter(n=>n.pitch.eq(r.chainType.pitch)),i=n=>n.map(s=>e.jsx("span",{children:s},s+Math.random())).reduce((s,c)=>[s,", ",c]);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table is-hoverable is-narrow is-fullwidth",children:[e.jsxs("thead",{children:[e.jsx("tr",{children:e.jsx("th",{colSpan:5,children:"Matching COTS Sprockets"})}),e.jsxs("tr",{children:[e.jsx("th",{children:"Vendor"}),e.jsx("th",{children:"Pitch"}),e.jsx("th",{children:"Teeth"}),e.jsx("th",{children:"PD"}),e.jsx("th",{children:"Bore"})]})]}),e.jsx("tbody",{children:a.map(n=>e.jsxs("tr",{className:t.includes(n.teeth)?"emphasize-row":"",children:[e.jsx("td",{children:i(n.vendors)}),e.jsx("td",{children:n.pitch.format()}),e.jsxs("td",{children:[n.teeth,"T"]}),e.jsxs("td",{children:[n.pitchDiameter.to("in").toPrecision(.001).scalar,'"']}),e.jsx("td",{className:"is-size-7",children:n.bore})]},JSON.stringify(n)))})]})})})}class J{static getState(){if(k.version===void 0)throw Error("Config did not set version! "+k.url);return R.BumpState(k.version,[H],[])}}function A(r,t,a,i){const n=r.pitch,s=Math.max(t,a),c=Math.min(t,a),l=2*i-s-c,x=l*l-.81*(s-c)*(s-c);return n.div(8).mul(l+Math.sqrt(x)).to("in")}function S(r,t,a,i){if([i.scalar,t,a].includes(0)||new h(t,r.pitch).pitchDiameter.div(2).add(new h(a,r.pitch).pitchDiameter.div(2)).gt(i))return{smaller:{links:0,distance:new M(0,"in")},larger:{links:0,distance:new M(0,"in")}};const n=t,s=a,c=i,l=r.pitch,x=c.mul(2).div(l),C=(n+s)/2,B=l.mul(Math.pow(Math.abs(s-n)/(2*Math.PI),2)).div(c),u=x.scalar+C+B.scalar,w=b=>Math.ceil(b/2)*2,f=b=>Math.floor(b/2)*2;return{smaller:{links:f(u),distance:A(r,n,s,f(u))},larger:{links:w(u),distance:A(r,n,s,w(u))}}}function _(){const[r,t]=U(J.getState()),a={p1PD:()=>new h(r.p1Teeth,r.chain.pitch).pitchDiameter,p2PD:()=>new h(r.p2Teeth,r.chain.pitch).pitchDiameter,smallerCenter:o=>o.smaller.distance,smallerLinks:o=>o.smaller.links,largerCenter:o=>o.larger.distance,largerLinks:o=>o.larger.links},[i,n]=g.useState(a.p1PD()),[s,c]=g.useState(a.p2PD()),l=S(r.chain,r.p1Teeth,r.p2Teeth,r.desiredCenter),[x,C]=g.useState(a.smallerCenter(l)),[B,u]=g.useState(a.smallerLinks(l)),[w,f]=g.useState(a.largerCenter(l)),[b,D]=g.useState(a.largerLinks(l));g.useEffect(()=>{const o=S(r.chain,r.p1Teeth,r.p2Teeth,r.desiredCenter);C(o.smaller.distance.add(r.extraCenter)),u(o.smaller.links),f(o.larger.distance.add(r.extraCenter)),D(o.larger.links)},[r.chain,r.p1Teeth,r.p2Teeth,r.desiredCenter,r.extraCenter]),g.useEffect(()=>{n(a.p1PD())},[r.p1Teeth,r.chain]),g.useEffect(()=>{c(a.p2PD())},[r.p2Teeth,r.chain]);let E=e.jsx(y,{chainType:new m("#40"),currentSprockets:[]});return r.chain.eq(new m("#25"))?E=e.jsx(y,{chainType:new m("#25"),currentSprockets:[new h(r.p1Teeth,r.chain.pitch),new h(r.p2Teeth,r.chain.pitch)]}):r.chain.eq(new m("#35"))&&(E=e.jsx(y,{chainType:new m("#35"),currentSprockets:[new h(r.p1Teeth,r.chain.pitch),new h(r.p2Teeth,r.chain.pitch)]})),e.jsxs(e.Fragment,{children:[e.jsx(O,{queryParams:H,state:r,title:k.title}),e.jsxs(j,{desktop:!0,centered:!0,children:[e.jsxs(p,{children:[e.jsx(d,{label:"Chain Type",id:"chain",tooltip:e.jsxs(e.Fragment,{children:[Object.entries(T).map(([o,L])=>e.jsxs(e.Fragment,{children:[e.jsx("span",{children:`${o} has pitch ${L.format()}.`}),e.jsx("br",{})]})),"Bike chain is typically #40."]}),children:e.jsx($,{stateHook:[r.chain,t.setChain]})}),e.jsx(d,{label:"Desired Center",id:"desiredCenter",tooltip:"Desired distance between the centers of each sprocket.",children:e.jsx(W,{stateHook:[r.desiredCenter,t.setDesiredCenter]})}),e.jsx(d,{label:"Extra Center",id:"extraCenter",tooltip:"An extra distance applied after the C-C calculations to ensure snug chain fit.",children:e.jsx(W,{stateHook:[r.extraCenter,t.setExtraCenter],defaultUnit:"mm"})}),e.jsx(P,{color:"primary",children:"Sprocket 1"}),e.jsxs(j,{formColumns:!0,children:[e.jsx(p,{children:e.jsx(d,{label:"Teeth",id:"p1Teeth",for:"id",children:e.jsx(V,{stateHook:[r.p1Teeth,t.setP1Teeth]})})}),e.jsx(p,{children:e.jsx(d,{label:"PD",id:"p1PitchDiameter",tooltip:"Pitch Diameter",children:e.jsx(v,{stateHook:[i,n],numberRoundTo:4,defaultUnit:"in"})})})]}),e.jsx(P,{color:"primary",children:"Sprocket 2"}),e.jsxs(j,{formColumns:!0,children:[e.jsx(p,{children:e.jsx(d,{label:"Teeth",id:"p2Teeth",for:"id",children:e.jsx(V,{stateHook:[r.p2Teeth,t.setP2Teeth]})})}),e.jsx(p,{children:e.jsx(d,{label:"PD",id:"p2PitchDiameter",tooltip:"Pitch Diameter",children:e.jsx(v,{stateHook:[s,c],numberRoundTo:4,defaultUnit:"in"})})})]}),e.jsx(P,{color:"primary",children:"Smaller Chain"}),e.jsxs(j,{formColumns:!0,multiline:!0,children:[e.jsx(p,{fullhdPercentage:.4,percentage:1,children:e.jsx(d,{label:"Chain Links",id:"smallerLinks",children:e.jsx(X,{stateHook:[B,u],roundTo:0})})}),e.jsx(p,{fullhdPercentage:.6,percentage:1,children:e.jsx(d,{label:"Center Distance",id:"smallerCenter",children:e.jsx(v,{stateHook:[x,C],numberRoundTo:4,defaultUnit:"in"})})})]}),e.jsx(P,{color:"primary",children:"Larger Chain"}),e.jsxs(j,{formColumns:!0,multiline:!0,children:[e.jsx(p,{fullhdPercentage:.4,percentage:1,children:e.jsx(d,{label:"Chain Links",id:"largerLinks",children:e.jsx(X,{stateHook:[b,D],roundTo:0})})}),e.jsx(p,{fullhdPercentage:.6,percentage:1,children:e.jsx(d,{label:"Center Distance",id:"largerCenter",children:e.jsx(v,{stateHook:[w,f],numberRoundTo:4,defaultUnit:"in"})})})]})]}),e.jsx(p,{children:E})]})]})}function te(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{pageConfig:k}),e.jsx(_,{})]})}export{te as default};
