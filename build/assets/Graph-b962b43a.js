import{r,a2 as L,am as w,j as n,an as C,ao as I,ap as m,aa as K,aq as O}from"./index-ed88989a.js";const j="label";function x(e,s){typeof e=="function"?e(s):e&&(e.current=s)}function D(e,s){Object.assign(e.options,s)}function b(e,s){e.labels=s}function v(e,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j;const d=[];e.datasets=s.map(a=>{const c=e.datasets.find(o=>o[i]===a[i]);return!c||!a.data||d.includes(c)?{...a}:(d.push(c),Object.assign(c,a),c)})}function T(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j;const i={labels:[],datasets:[]};return b(i,e.labels),v(i,e.datasets,s),i}function $(e,s){let{height:i=150,width:d=300,redraw:a=!1,datasetIdKey:c,type:o,data:u,options:l,plugins:y=[],fallbackContent:E,updateMode:p,...R}=e;const f=r.useRef(null),t=r.useRef(),h=()=>{f.current&&(t.current=new w(f.current,{type:o,data:T(u,c),options:l&&{...l},plugins:y}),x(s,t.current))},g=()=>{x(s,null),t.current&&(t.current.destroy(),t.current=null)};return r.useEffect(()=>{!a&&t.current&&l&&D(t.current,l)},[a,l]),r.useEffect(()=>{!a&&t.current&&b(t.current.config.data,u.labels)},[a,u.labels]),r.useEffect(()=>{!a&&t.current&&u.datasets&&v(t.current.config.data,u.datasets,c)},[a,u.datasets]),r.useEffect(()=>{t.current&&(a?(g(),setTimeout(h)):t.current.update(p))},[a,l,u.labels,u.datasets,p]),r.useEffect(()=>{t.current&&(g(),setTimeout(h))},[o]),r.useEffect(()=>(h(),()=>g()),[]),L.createElement("canvas",Object.assign({ref:f,role:"img",height:i,width:d},R),E)}const G=r.forwardRef($);function q(e){return n.jsxs("div",{className:"box remove-hover",style:{width:"99%"},children:[n.jsxs(C,{paddingLess:!0,marginLess:!0,children:[n.jsx(I,{children:n.jsx(m,{children:n.jsx(K,{children:e.title})})}),n.jsxs(O,{children:[n.jsx(m,{}),n.jsx(m,{})]})]}),n.jsx("div",{style:{maxHeight:`${e.height??1e5}px`,height:`${e.height}px`},children:n.jsx(G,{type:"line",options:e.options,data:{datasets:e.simpleDatasets}})})]})}export{q as G};
