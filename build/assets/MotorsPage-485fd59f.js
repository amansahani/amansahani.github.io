import{r as o,ab as V,J as H,j as r,T as B,y as j,C as b,b as c,ac as D,ad as E,M as u,x as A,e as O,ae as R,__tla as G}from"./index-66dd5fa2.js";import{G as I}from"./Graph-949e120f.js";import{a as n,u as J,S as z}from"./L1ControlledNumber-4bce0d8c.js";import{w as K}from"./promise-worker-e6956b4a.js";import{B as m}from"./BooleanInput-ab4fbc61.js";import{M as y}from"./MeasurementInput-89968d28.js";import{T as Q}from"./Table-ad5713f6.js";import"./io-df8bba7d.js";let F,U=Promise.all([(()=>{try{return G}catch{}})()]).then(async()=>{function C(e){const[t,a]=e.parentHook,[i,h]=o.useState(e.entry.currentLimit),[d,M]=o.useState(e.entry.voltage),[s,p]=o.useState(e.entry.visibilityOptions),[w,N]=o.useState(e.entry.motor.quantity>0);return o.useEffect(()=>{a(t.replaceEntry(e.entry,new V(H.fromIdentifier(e.entry.motor.identifier,w?1:0),i,d,e.entry.ratio,s)))},[i,d,s,w]),r.jsx(r.Fragment,{children:r.jsxs(B,{heading:r.jsx("div",{children:r.jsx("a",{className:"has-text-black",href:e.entry.motor.url,children:e.entry.motor.identifier})}),children:[r.jsx(n,{label:"Current Limit",wrap:!0,children:r.jsx(y,{stateHook:[i,h]})}),r.jsx(n,{label:"Voltage",wrap:!0,children:r.jsx(y,{dangerIf:()=>d.gt(j),stateHook:[d,M]})}),r.jsxs(b,{multiline:!0,children:[r.jsx(c,{children:r.jsx(n,{label:"Enabled",children:r.jsx(m,{stateHook:[w,N]})})}),r.jsx(c,{children:r.jsx(n,{label:"Power",children:r.jsx(m,{stateHook:[s.showPower,l=>{p({...s,showPower:l.valueOf()})}]})})}),r.jsx(c,{children:r.jsx(n,{label:"Torque",children:r.jsx(m,{stateHook:[s.showTorque,l=>{p({...s,showTorque:l.valueOf()})}]})})}),r.jsx(c,{children:r.jsx(n,{label:"Current",children:r.jsx(m,{stateHook:[s.showCurrent,l=>{p({...s,showCurrent:l.valueOf()})}]})})})]})]})})}function v(e){return r.jsx(r.Fragment,{children:r.jsx(b,{multiline:!0,children:e.stateHook[0].entries.map(t=>r.jsx(c,{ofTwelve:3,children:r.jsx(C,{entry:t,parentHook:e.stateHook})},t.motor.identifier))})})}function T(){return new Worker("/build/assets/graphBuilder-6a2c053b.js")}const S=await K(new T);function W(){const[e,t]=J(z.BumpState(1,[D],[])),[a,i]=o.useState([]);return o.useEffect(()=>{S.BuildDatasets(e.motorList.toDict()).then(h=>i(h))},[e.motorList]),r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"playground-container",children:r.jsx(I,{options:E,simpleDatasets:a,title:"Motor Playground",id:"motorGraph"})}),r.jsx(v,{stateHook:[e.motorList,t.setMotorList]})]})}const k=e=>new u(e,"lbs"),x=e=>new u(e,"A");function g(e){return e.weight.add(e.identifier==="Falcon 500"?k(0):k(.25))}function f(e,t){const a=new A(e,t,{current:t,voltage:j}).solve().power.to("W");return a.scalar<=0?"-":a.scalar.toFixed(0)}function P(e){for(let t=50;t>0;t--){const a=new A(e,new u(t,"A"),{current:new u(t,"A"),voltage:j}).solve().power;if(a.to("W").scalar>0)return a.div(g(e)).to("W/lb").scalar.toFixed(1)}return"-"}function q(e){return{freeCurrent:e.freeCurrent.to("A").scalar.toFixed(1),freeSpeed:e.freeSpeed.to("rpm").scalar.toFixed(0),kT:e.kT.to("N*m/A").scalar.toFixed(4),kV:e.kV.to("rpm/V").scalar.toFixed(1),resistance:e.resistance.to("ohm").scalar.toFixed(3),stallCurrent:e.stallCurrent.to("A").scalar.toFixed(0),stallTorque:e.stallTorque.to("N*m").scalar.toFixed(2),weight:g(e).to("lbs").scalar.toFixed(2),power30A:f(e,x(30)),power40A:f(e,x(40)),power50A:f(e,x(50)),powerWeightRatio:P(e),nameLink:r.jsx("a",{target:"_blank",href:e.url,children:e.identifier}),diameter:e.diameter.to("in").scalar.toFixed(2)}}function L(){return H.getAllMotors().map(e=>q(e))}function _(){const e=o.useMemo(()=>L(),[]);return r.jsx(Q,{fullwidth:!0,hoverable:!0,textCentered:!0,columns:[{Header:"Name",accessor:"nameLink"},{Header:"Weight (lb)",accessor:"weight"},{Header:"Diameter (in)",accessor:"diameter"},{Header:"Free Speed (RPM)",accessor:"freeSpeed"},{Header:"Stall Torque (Nm)",accessor:"stallTorque"},{Header:"Stall Current (A)",accessor:"stallCurrent"},{Header:"Free Current (A)",accessor:"freeCurrent"},{Header:"Peak power at 30A (W)",accessor:"power30A"},{Header:"Peak power at 40A (W)",accessor:"power40A"},{Header:"Peak power at 50A (W)",accessor:"power50A"},{Header:"Peak power : weight ratio (W/lb)",accessor:"powerWeightRatio"},{Header:"Resistance (\u2126)",accessor:"resistance"},{Header:"kT (Nm/A)",accessor:"kT"},{Header:"kV (rpm/V)",accessor:"kV"}],data:e})}F=function(){return r.jsxs(r.Fragment,{children:[r.jsx(O,{pageConfig:R}),r.jsx(_,{}),r.jsx(W,{})]})}});export{U as __tla,F as default};
